#!/usr/bin/env -S bash -e

# Checking commands.
cmd_check() { command -v "${1}" > /dev/null 2>&1 || { echo >&2 "Required: '${1}'."; exit 1; }; }

# Apps.
curl=$( command -v 'curl' ); cmd_check 'curl'

# -------------------------------------------------------------------------------------------------------------------- #
# INITIALIZATION.
# -------------------------------------------------------------------------------------------------------------------- #

run() { sysctl; }

# -------------------------------------------------------------------------------------------------------------------- #
# SYSCTL.
# -------------------------------------------------------------------------------------------------------------------- #

sysctl() {
  local d='/etc/sysctl.d'; [[ ! -d "${d}" ]] && exit 1

  local f=( '00-sysctl.local.conf' )
  for i in "${f[@]}"; do ${curl} -fsSLo "${d}/${i}" "https://uaik.github.io/conf/sysctl/${i}"; done
}

# -------------------------------------------------------------------------------------------------------------------- #
# -------------------------------------------------< RUNNING SCRIPT >------------------------------------------------- #
# -------------------------------------------------------------------------------------------------------------------- #

run "$@"; exit 0
